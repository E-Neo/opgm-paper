\section{Background}\label{sec:background}
\subsection{Property Graph Model}
A \emph{property graph} is a directed vertex-labeled edge-labeled multigraph with self-edges.
We now provide the formal definition of a property graph.
\begin{definition}[Property Graph~\cite{DBLP:journals/csur/AnglesABHRV17}]
  A property graph $G$ is a tuple $(V, E, \rho, \lambda, \sigma)$, where:
  \begin{enumerate}[noitemsep,label={(\arabic*)}]
  \item $V$ is a finite set of vertices.
  \item $E$ is a finite set of edges such that $V$ and $E$ have no elements in common.
  \item $\rho: E \rightarrow (V \times V)$ is a total function.
    Intuitively, $\rho(e) = (v_1, v_2)$ indicates that $e$ is a directed edge from $v_1$ to $v_2$.
  \item $\lambda :(V \cup E) \rightarrow L$ is a total function where $L$ is a set of labels.
    Intuitively, if $v \in V, \rho(v) = l$ (respectively, $e \in E, \rho(e) = l$),
    then $l$ is the label of vertex $v$ (respectively, edge $e$).
  \end{enumerate}
\end{definition}
A property graph $G$ can be denoted by $(V(G), E(G), \rho_G, \lambda_G)$.
Please note that the total function $\rho_G$ is necessary, in general,
we cannot identify an edge simply by the starting and ending vertices such as $(u_1, u_2)$ as can be done in the simple graph model,
because multiple edges may appear between the two vertices.
\subsection{Property Graph Matching Problem}
\begin{definition}[Subgraph]
  A property graph $H$ is called a subgraph of a property graph $G$, written $H \subseteq G$, if
  $V(H) \subseteq V(G)$, $E(H) \subseteq E(G)$, $\rho_H$ is a restriction of $\rho_G$, and $\lambda_H$ is a restriction of $\lambda_G$.
\end{definition}
Let $G$ be any property graph, and let $V_H \subseteq V(G)$, then the \emph{induced subgraph} $G[V_H]$ is the graph $H$ whose vertex set is $V_H$ and whose edge set consists of all of the edges in $E(G)$ that have both endpoints in $V_H$.
\begin{definition}[Property Graph Isomorphism]
  Two property graphs $G$ and $H$ are isomorphic, written $G \cong H$,
  if there exists bijections $\theta: V(G) \rightarrow V(H)$ and $\phi: E(G) \rightarrow E(H)$ such that
  $\rho_G(e) = (u, v)$ if and only if $\rho_H(\phi(e)) = (\theta(u), \theta(v))$,
  $\lambda_G(v) = \lambda_H(\theta(v))$ for all $v \in V(G)$
  and $\lambda_G(e) = \lambda_H(\phi(e))$ for all $e \in E(G)$;
  Such a pair of mappings is called an isomorphism between $G$ and $H$.
\end{definition}
\begin{definition}[Property Graph Matching]\label{def:property_graph_matching}
  Given a data property graph $D$, a pattern property graph $P$ and a searching condition $\psi: \mathcal{G} \rightarrow \mathcal{B}$ with $\mathcal{G}$ the set of property graphs and $\mathcal{B}$ the set of Boolean values,
  the property graph matching problem is to report the set $\mathcal{I} = \{H | H \subseteq D, H \cong P, \psi(H) = true\}$.
\end{definition}
Authors of previous works usually omit the searching condition $\psi$ in their definition of graph matching~\cite{DBLP:conf/sigmod/ShaoCCMYX14,DBLP:journals/pvldb/LaiQLC15,DBLP:conf/sigmod/KimLBHLKJ16,DBLP:journals/pvldb/QiaoZC17}.
And they adopt a loosely related technique called \emph{symmetry-breaking}~\cite{DBLP:conf/recomb/GrochowK07},
which ensures there is a unique bijection $\theta: V(P) \rightarrow V(F)$ by providing a partial order on $V(P)$ after exploiting the automorphism of $P$.
However, as we have stated before, the WHERE clause is a ubiquitous part of the query language of a graph database.
Users of a real-world graph database usually provide their self-defined searching condition $\psi$ to filter out unnecessary matchings not only symmetry-breaking conditions.
Thus, the searching condition we defined here can be viewed as a super set of symmetry-breaking.
We add the searching condition in the definition because it is actually a part of the property graph matching problem,
and we also found that it can be decomposed and pushed down to lower phase to boost the evaluation of graph matching (Section~\ref{sec:match_optimize}).
